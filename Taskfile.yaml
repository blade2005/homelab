---
version: "3"
vars:
  KUBERNETES_DIR: "{{.ROOT_DIR}}/kubernetes"
includes:
  ansible:
    taskfile: .taskfiles/ansible/Taskfile.yaml
    dir: ansible
tasks:
  default:
    desc: "List tasks"
    silent: true
    cmds:
      - task -l
  check:
    desc: "Check Project"
    silent: true
    cmds:
      - pre-commit run -a
      - task: ansible:check
  configure:
    desc: Configure project including installing dependencies from npm/poetry
    silent: true
    cmds:
      - npm ci
      - poetry install
      - task: ansible:configure
